<div class="health-indicator-questionnaire content-centered">
  <div class="health-indicator-questionnaire-heading">List of Indicator Form</div>
  <form class="health-indicator-questionnaire-contact-info">
    <div class="health-indicator-questionnaire-contact-info-heading">Contact Information</div>
    <div class="health-indicator-questionnaire-contact-form">
      <div class="form-group" :class="{'has-error': errors.has('countryName') }">
        <label for="countryName">Country Name</label>
        <input type="input" class="form-control" id="countryName" name="countryName" v-validate="'required'"
               v-model="countryId">
        <span v-show="errors.has('countryName')" class="error-info">{{ errors.first('countryName') }}</span>
      </div>
      <div class="form-group">
        <label for="Organisation">Organisation</label>
        <input type="input" class="form-control" id="Organisation" name="Organisation"
               v-model="countrySummary.contactOrganization">
      </div>
      <div class="form-group">
        <label for="date">Date for which data was collected</label>
        <input type="input" class="form-control" id="date" v-model="countrySummary.collectedDate" required>
      </div>
    </div>
    <div class="health-indicator-questionnaire-contact-form">
      <div class="form-group">
        <label for="nameofPersonEnteringData">Name of person entering data</label>
        <input type="input" name='feederName' class="form-control" id="nameofPersonEnteringData" v-validate="'required'" v-model="countrySummary.dataFeederName"
               required>
        <span v-show="errors.has('feederName')" class="error-info">Name of person entering data is required</span>
      </div>
      <div class="form-group">
        <label for="roleOfPersonEnteringData">Role of the person entering data</label>
        <input type="input" name="feederRole" class="form-control" id="roleOfPersonEnteringData" v-validate="'required'" v-model="countrySummary.dataFeederRole"
               required>
        <span v-show="errors.has('feederRole')" class="error-info">Role of the person entering data is required</span>
      </div>
      <div class="form-group">
        <label for="emailOfPersonEnteringData">Email of the person entering data</label>
        <input type="email" name='feederEmail' class="form-control" id="emailOfPersonEnteringData" v-validate="'required'" v-model="countrySummary.dataFeederEmail"
               required>
        <span v-show="errors.has('feederEmail')" class="error-info">Email of the person entering data is required</span>
      </div>
    </div>
    <div class="health-indicator-questionnaire-contact-form">
      <div class="form-group">
        <label for="nameofPersonCollectedData">Name of the person who collected data</label>
        <input type="input" class="form-control" id="nameofPersonCollectedData"
               v-model="countrySummary.dataCollectorName" required>
      </div>
      <div class="form-group">
        <label for="roleofPersonCollectedData">Role of the person who collected data</label>
        <input type="input" class="form-control" id="roleofPersonCollectedData"
               v-model="countrySummary.dataCollectorRole" required>
      </div>
      <div class="form-group">
        <label for="emailofPersonCollectedData">Email of the person who collected data</label>
        <input type="email" class="form-control" id="emailofPersonCollectedData"
               v-model="countrySummary.dataCollectorEmail" required>
      </div>
    </div>
    <div class="health-indicator-questionnaire-contact-form">
      <div class="form-group">
        <label for="nameofCountryContact">Name of the country contact</label>
        <input type="input" name="countryContact" class="form-control" id="nameofCountryContact" v-validate="'required'" v-model="countrySummary.contactName"
               required>
        <span v-show="errors.has('countryContact')" class="error-info">Name of the country contact is requied</span>
      </div>
      <div class="form-group">
        <label for="roleofCountryContact">Role of the country contact</label>
        <input type="input" name="contactRole" class="form-control" id="roleofCountryContact" v-validate="'required'" v-model="countrySummary.contactDesignation"
               required>
        <span v-show="errors.has('contactRole')" class="error-info">Role of the country contact is requied</span>
      </div>
      <div class="form-group">
        <label for="emailofCountryContact">Email of the country contact</label>
        <input type="email" name="contactEmail" class="form-control" id="emailofCountryContact" v-validate="'required'" v-model="countrySummary.contactEmail"
               required>
        <span v-show="errors.has('contactEmail')" class="error-info">Email of the country contact is requied</span>
      </div>
    </div>
    <div class="health-indicator-questionnaire-contact-form">
      <div class="form-group">
        <label for="countrySummary">Country Summary</label>
        <textarea class="form-control custom-width" id="countrySummary" v-model="countrySummary.summary"
                  required></textarea>
      </div>
    </div>
  </form>
  <div class="table">
    <div class="table-row table-header">
      <div class="table-row-item column-flex-grow-sno border-right-no align-header-text">No.</div>
      <div class="table-row-item align-header-text">Category</div>
      <!--<div class="table-row-item align-header-text column-flex-grow-sno">No.</div>-->
      <div class="table-row-item align-header-text"></div>
    </div>

    <div v-for="category in questionnaire" class="table-row">
      <div class="table-row-item table-font column-flex-grow" data-header="No.">
        <span class="align-No">{{category.categoryId}}</span>
      </div>
      <div class="table-row-item indicator-data" data-header="Category" :id="category.categoryName">
        {{category.categoryName}}
      </div>

      <!--<div class="table-row-item containers column-flex-grow-sno" data-header="sNo.">-->
      <!--<div v-for="indicator in category.indicators" class="table-font half-containers">-->
      <!--<span class="align-No">{{indicator.indicatorId}}</span>-->
      <!--</div>-->
      <!--</div>-->

      <div class="table-row-item containers" data-header="Indicator">
        <div v-for="indicator in category.indicators" class="medium-font half-containers">
          <div :class="{'has-error': errors.has(indicator.indicatorId) || errors.has('rationale')}">
            <div class="accordian">
              <div class="block-with-text bold-text">{{indicator.indicatorName}}</div>
              <div class="block-with-text">{{indicator.indicatorDefinition}}</div>
            </div>
            <span class='expand-btn' @click="onIndicatorExpand(indicator)">{{indicator.expandCollapseBtn}}</span>
            <div class="accordian-content" :class="{hide: !indicator.showIndicator}">
              <div v-for="score in indicator.scores" class="scores">
                <input type="radio" :name="indicator.indicatorId" v-validate="'required'"
                       v-model="healthIndicators[indicator.indicatorId].score"
                       :value="score.score"/>
                {{score.scoreDefinition}}({{score.score}})
              </div>
              <span v-show="errors.has(indicator.indicatorId)" class="error-info">Please select a value for above indicator</span><br/>
              Rationale or supporting text
              <textarea class="description" name="rationale"
                        v-model="healthIndicators[indicator.indicatorId].supportingText"
                        v-validate="'required'"></textarea>
              <span v-show="errors.has('rationale')" class="error-info">{{ errors.first('rationale') }}</span>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button class="submit-btn" @click="submit()">Submit</button>
</div>

