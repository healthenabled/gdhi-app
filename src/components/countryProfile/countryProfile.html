<div class="country-detail content-width content-centered">
  <div class="health-indicator-section">
    <div class="clearfix header-section">
      <div class="country-name page-title">
        <div class="flag" :style="{ backgroundImage: 'url(' + flagSrc + ')' }" ></div>
        
        {{healthIndicatorData.countryName}}
      </div>
      <span id="collected-date" v-if="healthIndicatorData.collectedDate !== ''" class="copy-italics copy-grey">
        As on {{healthIndicatorData.collectedDate}}
      </span>
      <div class="button-container float-right">
        <div class="export">
          <span><a v-bind:href="url" class=" btn btn-primary"><i class="fa  fa-file-excel-o fa-lg"></i>Export Country Data</a></span>
        </div>
        <button class="download-btn btn btn-primary" @click="generatePDF()"> <i class="fa fa-download" aria-hidden="true"></i> Download Scorecard</button>
      </div>
    </div>
    <div class="row">
      <div class="column-50percent">
        <div class="box">
            <div class="title sub-header">
              Overall Digital Health Phase
              <div v-if="healthIndicatorData" :class="'score float-right' + ' phase' + healthIndicatorData.countryPhase">{{healthIndicatorData.countryPhase ? healthIndicatorData.countryPhase : "NA"}}</div>
            </div>
            <div class="phase-desc copy-italics copy-grey">
              <p>
                The overall score is an average of the scores for the GDHI indicators
              </p>
            </div>
        </div>
        <div v-if="healthIndicatorData" class="health-indicators">
            <div v-for="(category, index) in healthIndicatorData.categories" class="indicator-panel-container-category-section">
              <div class="category-bar box">
                <div v-bind:class="category.showCategory ? 'accordion expanded' : 'accordion'">
                  <div class="indicator-panel-container-category-section-name sub-header" @click="onCategoryExpand(category, index)">{{category.name}}</div>
                  <div :class="'indicator-panel-container-category-section-phase phase' + category.phase" :value="category.phase"></div>
                  <div class="accordion-content">
                      <div class="heading-row sub-header">
                          <div class="indicator-id">#</div>
                          <div class="indicator-name">Indicator</div>
                          <div class="indicator-score-heading">Score</div>
                      </div>
                      <div v-for="(indicator, index_indicator) in category.indicators" class="indicator">
                        <div class="indicator-id">{{indicator.code}}</div>
                        <div class="indicator-desc">
                          <span class="indicator-name-value">{{indicator.name}}</span>
                          <div class="indicator-score-desc copy-italics copy-grey">{{indicator.indicatorDescription}}</div>
                          <div class="indicator-score-desc copy-italics copy-blue">{{indicator.scoreDescription}}</div>
                        </div>
                        <div :class="'indicator-score' + ' phase' + indicator.score">{{(indicator.score >= 0) ? indicator.score : 'NA'}}</div>
                      </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="column-50percent">
        <div class="health-indicator-container">
          <development-indicators></development-indicators>
        </div>
        <div class="country-summary-container box">
          <country-summary></country-summary>
        </div>
      </div>
    </div>

  </div>
</div>
